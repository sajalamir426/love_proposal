<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Love Proposal Quiz</title>
<style>
body {
    margin: 0;
    font-family: 'Arial', sans-serif;
    background: #fff0f5;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    overflow: hidden;
}
.heart-container, .quiz-container, .proposal-container, .final-container, .gift-container, .confirmation-container {
    text-align: center;
    background: #ffe4e1;
    padding: 50px 30px;
    border-radius: 20px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.2);
    max-width: 400px;
    position: relative;
    z-index: 1;
}
.heart-shape {
    width: 70px;
    height: 63px;
    background: #ff1493;
    position: relative;
    transform: rotate(-45deg);
    margin: 0 auto 20px;
}
.heart-shape::before,
.heart-shape::after {
    content: "";
    width: 70px;
    height: 63px;
    background: #ff1493;
    border-radius: 50%;
    position: absolute;
}
.heart-shape::before { top: -35px; left: 0; }
.heart-shape::after { left: 35px; top: 0; }
.love-text { font-size: 2rem; color: #ff1493; font-weight: bold; margin-bottom: 10px; }
.extra-lines { color: #800080; margin-bottom: 20px; }
.start-btn, .next-btn, .reveal-btn, .yes-btn, .confirm-btn {
    padding: 12px 25px;
    font-size: 1.2rem;
    background: #ff69b4;
    color: white;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    transition: background 0.3s ease;
    margin-top: 20px;
}
.start-btn:hover, .next-btn:hover, .reveal-btn:hover, .yes-btn:hover, .confirm-btn:hover { background: #ff1493; }
.option-btn, .gift-option {
    display: block;
    padding: 10px 15px;
    margin: 10px auto;
    width: 80%;
    border-radius: 8px;
    border: 1px solid #ff1493;
    background: #fff0f5;
    cursor: pointer;
    transition: 0.3s;
}
.option-btn:hover, .gift-option:hover { background: #ffb6c1; }
.sub-box {
    background: #fff0f5;
    padding: 10px;
    margin: 10px auto;
    border-radius: 10px;
    font-size: 1rem;
    width: 80%;
    border: 1px solid #ff1493;
}
.sub-box.gift { background: #ff69b4; color: white; cursor: pointer; }
.sub-box.pinkgray { background: linear-gradient(to right, #ffb6c1, #d3d3d3); color: black; }
.heart-icon {
    color: red;
    font-size: 2rem;
    margin-bottom: 20px;
    animation: beat 1s infinite;
}
@keyframes beat {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.3); }
}
.pink-text {
    color: #ff1493;
    font-weight: bold;
    font-size: 1.5rem;
}
.balloon {
    position: absolute;
    width: 30px;
    height: 40px;
    border-radius: 50%;
    bottom: -50px;
    animation: rise 5s linear infinite;
}
@keyframes rise {
    0% { transform: translateY(0) scale(1); opacity: 1; }
    100% { transform: translateY(-600px) scale(1.2); opacity: 0; }
}

/* Fireworks & flowers */
.firework {
    position: absolute;
    width: 5px;
    height: 5px;
    border-radius: 50%;
    opacity: 0;
    pointer-events: none;
}
@keyframes explode {
    0% { transform: scale(0); opacity:1; }
    50% { transform: scale(1.5); opacity:1; }
    100% { transform: scale(0); opacity:0; }
}
</style>
</head>
<body>

<div class="heart-container" id="initialDiv">
    <div class="heart-shape"></div>
    <div class="love-text">I Love U</div>
    <div class="extra-lines">
       A coded love story where you answer<br><br> some questions about us, and then<br><br> I have a special surprise for you. ‚ù§Ô∏è
    </div>
    <button class="start-btn" onclick="startAdventure()">Start Adventure</button>
</div>

<script>
const quizData = [
    { question: "What is my favorite color?", options: ["Black", "Pink", "Green", "Red"], answer: "Black" },
    { question: "Where did we first meet?", options: ["School", "Park", "Family", "Cafe"], answer: "Family" },
    { question: "What was our best moment together?", options: ["Sitting Together", "Outing ", "Our inside jokes", "Family Event"], answer: "Outing " },
    { question: "What is your favourite thing about me?", options: ["Hair", "Eyes", "Smile", "Hands"], answer: "Eyes" },
    { question: "What do u want in our future?", options: ["Travel the world", "Build home together", "Lots of adventure", "Grow old together"], answer: "Travel the world" }
];

let currentQuestion = 0;
let score = 0;
let balloonsInterval;

function startAdventure() {
    document.getElementById('initialDiv').style.display = 'none';
    showQuestion();
}

function showQuestion() {
    const quizContainer = document.createElement('div');
    quizContainer.className = 'quiz-container';
    quizContainer.id = 'quizContainer';
    const q = quizData[currentQuestion];
    quizContainer.innerHTML = `
        <h2>Question ${currentQuestion + 1} of ${quizData.length}</h2>
        <p>${q.question}</p>
        ${q.options.map(opt => `<button class="option-btn" onclick="selectOption('${opt}')">${opt}</button>`).join('')}
        <button class="next-btn" onclick="nextQuestion()" style="display:none;">Next</button>
    `;
    document.body.appendChild(quizContainer);
}

function selectOption(selected) {
    const correctAnswer = quizData[currentQuestion].answer;
    if(selected === correctAnswer) score += 20;
    document.querySelectorAll('.option-btn').forEach(btn => btn.disabled = true);
    document.querySelector('.next-btn').style.display = 'inline-block';
}

function nextQuestion() {
    currentQuestion++;
    document.getElementById('quizContainer').remove();
    if(currentQuestion < quizData.length) showQuestion();
    else showResult();
}

function showResult() {
    const resultDiv = document.createElement('div');
    resultDiv.className = 'quiz-container';
    resultDiv.id = 'quizContainer';
    resultDiv.innerHTML = `
        <h1>Adventure Completed! üíñ</h1>
        <p>Your love score: ${score}%</p>
        <p>You answered ${score/20} out of 5 questions correctly!</p>
        <button class="reveal-btn" onclick="revealProposal()">Reveal The Proposal</button>
    `;
    document.body.appendChild(resultDiv);
}

function revealProposal() {
    document.getElementById('quizContainer').remove();
    const proposalDiv = document.createElement('div');
    proposalDiv.className = 'proposal-container';
    proposalDiv.innerHTML = `
        <h1>Will u Marry Me? üíñ</h1>
        <p>You are the one I want to spend forever with.<br>
           You make every moment special and I can't <br>imagine life without u</p>
        <div class="sub-box">I fall in love with u every day ‚ù§Ô∏è</div>
        <button class="yes-btn" onclick="finalStage()">Only Yes <span class="heart-icon">‚ù§Ô∏è</span></button>
    `;
    document.body.appendChild(proposalDiv);
}

function finalStage() {
    document.querySelector('.proposal-container').remove();
    const finalDiv = document.createElement('div');
    finalDiv.className = 'final-container';
    finalDiv.innerHTML = `
        <div class="heart-icon">‚ù§Ô∏è</div>
        <div class="pink-text">You said yes!</div>
        <p>You have just made me the happiest perosn alive..</p>
        <div class="sub-box">Ready to see what I have planned?</div>
        <div class="sub-box gift" onclick="openGift()">Open the gift</div>
    `;
    document.body.appendChild(finalDiv);

    // Faster balloons
    balloonsInterval = setInterval(() => {
        const balloon = document.createElement('div');
        balloon.className = 'balloon';
        balloon.style.left = Math.random()*90 + '%';
        balloon.style.background = `hsl(${Math.random()*360}, 70%, 60%)`;
        balloon.style.animationDuration = (3+Math.random()*2) + 's';
        document.body.appendChild(balloon);
        setTimeout(()=> balloon.remove(), 6000);
    }, 200); // appear faster
}

function openGift(){
    clearInterval(balloonsInterval);
    document.querySelector('.final-container').remove();

    const giftDiv = document.createElement('div');
    giftDiv.className = 'gift-container';
    giftDiv.innerHTML = `
        <h2>Candlelight Dinner Gift üíñ</h2>
        <p>Select the dinner location:</p>
        <div class="gift-option" onclick="selectLocation('Home Cooked')">Home Cooked Dinner</div>
        <div class="gift-option" onclick="selectLocation('Seaside Restaurant')">Seaside Restaurant</div>
        <div class="gift-option" onclick="selectLocation('Pizza Online')">Pizza Online</div>
        <div id="dateTimeDiv" style="display:none; margin-top:20px;">
            <p>Select Date & Time:</p>
            <input type="datetime-local" id="dinnerDateTime">
            <button class="confirm-btn" onclick="confirmDinner()">Confirm Dinner Reservation</button>
        </div>
    `;
    document.body.appendChild(giftDiv);
}

let selectedLocation = '';
function selectLocation(loc){
    selectedLocation = loc;
    document.querySelectorAll('.gift-option').forEach(el=>el.style.border='1px solid #ff1493');
    event.target.style.border = '2px solid red';
    document.getElementById('dateTimeDiv').style.display='block';
}

function confirmDinner(){
    const dateTime = document.getElementById('dinnerDateTime').value;
    if(!dateTime || !selectedLocation){ alert("Please select location & date/time"); return; }

    document.querySelector('.gift-container').remove();

    const confirmDiv = document.createElement('div');
    confirmDiv.className = 'confirmation-container';
    confirmDiv.innerHTML = `
        <div style="font-size:2rem;">üéâüçΩÔ∏è‚ú®</div>
        <p><b>Candlelight Dinner Confirmed!</b></p>
        <div class="sub-box pinkgray">Location: ${selectedLocation}</div>
        <div class="sub-box pinkgray">Date & Time: ${dateTime}</div>
        <p>Can't wait to celebrate with you!</p>
    `;
    document.body.appendChild(confirmDiv);

    // More fireworks
    for(let i=0;i<60;i++){
        const firework = document.createElement('div');
        firework.className='firework';
        firework.style.left = Math.random()*90 + '%';
        firework.style.bottom = Math.random()*200 + 'px';
        firework.style.background = `hsl(${Math.random()*360}, 80%, 60%)`;
        firework.style.animation = `explode 3s ease-out ${Math.random()*2}s forwards`;
        document.body.appendChild(firework);
    }

    // Flowers stay longer
    for(let i=0;i<50;i++){
        const flower = document.createElement('div');
        flower.className = 'firework';
        flower.style.left = Math.random()*90 + '%';
        flower.style.bottom = Math.random()*200 + 'px';
        flower.style.opacity = 0;
        flower.innerHTML = 'üå∏';
        flower.style.fontSize = '1.5rem';
        flower.style.width = '1.5rem';
        flower.style.height = '1.5rem';
        flower.style.textAlign = 'center';
        flower.style.lineHeight = '1.5rem';
        flower.style.animation = `explode 4s ease-out ${Math.random()*2}s forwards`;
        document.body.appendChild(flower);
    }
}
</script>

</body>
</html>
